src = $(wildcard src/*.cpp) $(wildcard src/vendor/*.cpp) main.cpp
obj = $(src:.cpp=.o)

CXX = em++
CXXFLAGS = -std=c++11 -O2
LDFLAGS = 

all: samplexmlgen.bc

samplexmlgen.js: samplexmlgen.bc
	em++ -std=c++11 -O2 samplexmlgen.bc -o samplexmlgen.js

samplexmlgen.bc: $(obj)
	$(CXX) -o $@ $^ $(LDFLAGS)


.PHONY: clean
clean:
	rm -f $(obj) samplexmlgen.bc samplexmlgen.js
